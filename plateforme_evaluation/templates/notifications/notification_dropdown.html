<!-- notifications/notification_dropdown.html -->
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownNotifications" role="button" 
       data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-bell"></i>
        <span id="unread-count" class="badge bg-danger {% if not unread_notifications_count or unread_notifications_count == 0 %}d-none{% endif %}">
            {{ unread_notifications_count|default:0 }}
        </span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownNotifications" style="width: 300px; max-height: 400px; overflow-y: auto;">
        <li>
            <div class="dropdown-header d-flex justify-content-between align-items-center">
                <span>Notifications</span>
                <button class="btn btn-sm btn-link mark-all-read text-decoration-none">Tout marquer comme lu</button>
            </div>
        </li>
        <li><hr class="dropdown-divider"></li>
        <div id="notification-list">
            <!-- Les notifications seront chargÃ©es ici par JavaScript -->
            <div class="text-center py-3">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Chargement...</span>
                </div>
            </div>
        </div>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item text-center" href="{% url 'notifications:list' %}">Voir toutes les notifications</a></li>
    </ul>
</li>